const modulo=(()=>{"use strict";let e=document.querySelector("#btnPedir"),r=document.querySelector("#btnDetener"),t=document.querySelectorAll("small"),l=document.querySelectorAll("#divCartas"),a=[],s=[],d=["C","D","H","S"],o=["A","K","Q","J"],i=(d=2)=>{a=n(),s=[];for(let o=0;o<d;o++)s.push(0);t.forEach(e=>e.innerText=0),l.forEach(e=>e.innerHTML=""),r.disabled=!1,e.disabled=!1},n=()=>{a=[];for(let e=2;e<=10;e++)for(let r of d)a.push(e+r);for(let t of d)for(let l of o)a.push(l+t);return _.shuffle(a)},c=()=>{if(0===a.length)throw"No hay cartas en el deck";return a.pop()},$=e=>{let r=e.substring(0,e.length-1);return isNaN(r)?"A"===r?11:10:1*r},u=(e,r)=>(s[e]+=$(r),t[e].innerText=s[e],s[e]),h=(e,r)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),l[r].append(t)},f=()=>{let[e,r]=s;setTimeout(()=>{r===e?alert("Es un EMAPTE!"):e>21||r<=21?alert("Femputadora GANA, a morir por SNUSNU!"):(r>21||e<=21)&&alert("Jugador GANA, arriba el patriarcado!!!")},1e3)},b=e=>{let r=0;do{let t=c(),l=s.length-1;r=u(l,t),h(t,l)}while(r<e&&e<=21);f()};return(e.addEventListener("click",()=>{let t=c(),l=u(0,t);h(t,0),l>21?(console.error("lo siento mucho, has perdido."),e.disabled=!0,r.disabled=!0,b(l)):21===l&&(console.log("GANASTE"),e.disabled=!0,r.disabled=!0,b(l))}),r.addEventListener("click",()=>{e.disabled=!0,r.disabled=!0,b(s[0])}),{startGame:i})})();